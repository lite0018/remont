!function(){function t(){"object"==typeof window.zTrackerCallbacks&&(window.zTrackerCallbacks.forEach((function(t){if("function"==typeof t)try{t()}catch(t){}})),window.zTrackerCallbacks=[])}void 0===window.zTracker&&(window.zTracker=function(t){function e(t,e){var r="",i=n()||{};for(var o in i[l]={ct:t},b&&b.phone&&(i[l].phone=b.phone,i[l].cLength=b.cLength,i[l].mask=k),t=[],i)if(i.hasOwnProperty(o)){var a=o+":";"object"==typeof i[o]?(a+=i[o].ct,i[o].phone&&(a+=":"+i[o].phone+":"+(i[o].cLength||"")+":"+encodeURIComponent(i[o].mask||""))):a+=i[o],t.push(a)}e&&((i=new Date).setTime(i.getTime()+864e5*e),r+=";expires="+i),r+=";path=/",f&&(r+=";domain="+f),document.cookie="ztracker="+encodeURIComponent(t.join("|"))+r}function n(t){for(var e=(t||"ztracker")+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].trim();if(0===i.indexOf(e)){if(n=decodeURIComponent(i.substring(e.length,i.length)),t)return n;var o={},a=0;if(0<n.indexOf(":"))n.split("|").map((function(t){t=t.split(":"),o[t[0]]={ct:t[1],phone:t[2],cLength:t[3],mask:decodeURIComponent(t[4]||"")},a++})),o[0]&&1==a&&0!=l&&(o[l]={ct:o[0]},delete o[0]);else{if(void 0===window.ctTrackerDefCKey)window.ctTrackerDefCKey=l;else if(window.ctTrackerDefCKey!=l)break;o[l]={ct:n}}return o}}return null}function r(t){if(!t||0>t.indexOf("."))return!1;var e=location.hostname.indexOf(t);return(0==e||0<e&&"."==location.hostname.substr(e-1,1))&&(f=t,!0)}function i(e){if(w)return!1;if(b&&s(b.phone,b.cLength,!0),w=!0,!e.roistat)if(window.roistat&&window.roistat.visit)e.roistat=window.roistat.visit;else{var n=window.roistatVisitCallback||!1;window.roistatVisitCallback=function(t){e.roistat=t,g&&function(t){if(t.cookie&&t.roistat){var e={};["cookie","id","roistat"].forEach((function(n){e[n]=t[n]})),u(p+"?update",e)}}(e),n&&n(t)}}t.metrics?(t.metrics.metrika&&(o((function(){if(window["yaCounter"+t.metrics.metrika])return a(e),!0})),document.addEventListener("yacounter"+t.metrics.metrika+"inited",(function(){a(e)}))),t.metrics.ga&&o((function(){if(window.ga||window.gtag)return function(e){function n(n){e.ga={clid:n,tracker:t.metrics.ga},t.metrics.metrika&&!e.metrika||c(e)}window.ga?ga((function(){for(var e=ga.getAll(),r=0;r<e.length;r++)if(e[r].get("trackingId")==t.metrics.ga){n(e[r].get("clientId"));break}})):window.gtag&&gtag("get",t.metrics.ga,"client_id",n)}(e),!0})),(t.metrics.metrika||t.metrics.ga)&&setTimeout((function(){g||c(e)}),3e3)):c(e)}function o(t,e){if(!t())var n=0,r=(e||2e3)/50,i=setInterval((function(){(t()||++n>r)&&clearInterval(i)}),50)}function a(e){if(!v){v=!0;var n="yaCounter"+t.metrics.metrika;window[n]&&window[n].hasOwnProperty("getClientID")&&(e.metrika={clid:window[n].getClientID(),tracker:t.metrics.metrika},t.metrics.ga&&!e.ga||c(e))}}function c(t){g=!0,u(p,t,(function(n){n.isError?(b&&!t.ping&&(function(){for(var t=document.getElementsByClassName(m),e=0;e<t.length;e++){var n=t[e];n.hasAttribute("data-ct-origin-href")&&n.setAttribute("href",n.getAttribute("data-ct-origin-href")),n.innerHTML=n.getAttribute("data-ct-origin-phone")}}(),b=!1),(n.cookie||t.cookie)&&e(n.cookie||t.cookie,7)):(n.cookie&&(t.cookie=n.cookie),(!b||b.phone!=n.phone||"mask"in n&&(n.mask||"")!=k)&&("mask"in n&&(k=n.mask),s(n.phone,n.countryLength),b={phone:n.phone,cLength:n.countryLength}),t.cookie&&e(t.cookie,7),n.interval&&setTimeout((function(){t.active=h,t.ping=!0,c(t),h=!1}),1e3*n.interval))}))}function s(t,e,n){if(t||n){for(var r=document.getElementsByClassName(m),i=0;i<r.length;i++){var o=r[i];o.hasAttribute("href")&&(n&&o.setAttribute("data-ct-origin-href",o.getAttribute("href")),o.setAttribute("href",(0<=o.getAttribute("href").indexOf("callto")?"callto:+":"tel:+")+t)),n&&o.setAttribute("data-ct-origin-phone",o.innerHTML),o.innerHTML=zTracker.formatPhone(t,o.hasAttribute("data-mask")?o.getAttribute("data-mask"):k,parseInt(e))}(t=document.createEvent("Event")).initEvent("zd:show",!0,!0),document.dispatchEvent(t)}}function u(t,e,n){var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState&&200==r.status&&n&&"function"==typeof n)try{var t=JSON.parse(r.responseText);n(t)}catch(t){}},r.open("POST",t,!0),e&&r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(e?d(e,!1):"")}function d(t,e){var n,r=[];for(n in t)if(t.hasOwnProperty(n)){var i=e?e+"["+n+"]":n,o=t[n];r.push(null!==o&&"object"==typeof o?d(o,i):encodeURIComponent(i)+"="+encodeURIComponent(o))}return r.join("&")}var f="",l=0,p="https://api.zadarma.com/calltracker/",m="zphone",h=!0,g=!1,k=!1,w=!1,v=!1,b=!1;(function(){if(!t||!t.id)return!1;zTracker.url&&(p=zTracker.url),l=t.id.substr(32)||0,t.id=t.id.substr(0,32),t.cssClass&&(m=t.cssClass),t.domain&&(t.domain.indexOf(",")?t.domain.split(",").forEach((function(t){return!r(t)})):r(t.domain)),["click","touchend","keyup"].forEach((function(t){window.addEventListener(t,(function(){h=!0}))}));var e=n()||{};e=e[l]?e[l]:{};var o={url:window.location.href,referer:document.referrer,cookie:e.ct?e.ct:"",id:t.id,active:h,roistat:n("roistat_visit")};e.phone&&(k=e.mask,b={phone:e.phone,cLength:e.cLength}),o.roistat||delete o.roistat,document.addEventListener("DOMContentLoaded",(function(){i(o)})),"loading"!=document.readyState&&i(o)}).call(this)},"object"==typeof _zCtOptions&&new window.zTracker(_zCtOptions)),zTracker.formatPhone=function(t,e,n){if(e){var r=e,i=e.indexOf("%"),o=0;for(0<=i&&(n=n||1,e=e.substr(0,i)+t.substr(0,n)+e.substr(i+1),o+=n);o<t.length&&r!=(e=e.replace("X",t[o]));o++)r=e;if(o!=t.length&&(e+=t.substr(o)),-1<(e=e.replace(/X/g,"").replace(/.*?\|/,"")).indexOf("~"))for(t=e.split("~"),e="",n=0;n<t.length;n++)e+='<span class="zphone-part-'+(n+1)+'">'+t[n]+"</span>";return e}return n?'<span class="zphone-country">+'+t.substr(0,n)+'</span><span class="zphone-region"> ('+t.substr(n,3)+') </span><span class="zphone-number">'+t.substr(n+3,3)+"-"+t.substr(n+6,2)+"-"+t.substr(n+8)+"</span>":'<span class="zphone-number">'+t+"</span>"},document.currentScript&&document.currentScript.hasAttribute("data-url")&&(zTracker.url=document.currentScript.getAttribute("data-url")),"loading"!=document.readyState?t():document.addEventListener("DOMContentLoaded",(function(){t()}))}();